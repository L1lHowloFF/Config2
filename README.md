# Config2
ДЗ по конфигу

Разработан инструмент визуализации графа зависимостей для менеджера
пакетов. Готовые средства (менеджеры пакетов, библиотеки) для получения
зависимостей не использованы.
## Этап 1. Минимальный прототип с конфигурацией
Цель: создано минимальное CLI-приложение и оно настраиваемое.
Требования:
1. Источником настраиваемых пользователем параметров является
конфигурационный файл формата JSON.
2. К настраиваемым параметрам относятся:
– Имя анализируемого пакета.
– URL-адрес репозитория или путь к файлу тестового репозитория.
– Режим работы с тестовым репозиторием.
– Имя сгенерированного файла с изображением графа.
– Режим вывода зависимостей в формате ASCII-дерева.
3. (только для этого этапа) При запуске приложения выводятся все параметры,
настраиваемые пользователем, в формате ключ-значение.
4. Реализована и продемонстрирована обработка ошибок для всех параметров.
5. Результат выполнения этапа сохранен в репозиторий стандартно
оформленным коммитом.
## Этап 2. Сбор данных
Цель: реализована основная логика получения данных о зависимостях для их
дальнейшего анализа и визуализации. Запрещено пользоваться менеджерами
пакетов и сторонними библиотеками для получения информации о зависимостях
пакетов.
Требования:
1. Использован формат пакетов Rust (Cargo).
2. Извлечена информация о прямых зависимостях заданного пользователем
пакета, используя URL-адрес репозитория.
3. (только для этого этапа) Выводятся на экран все прямые зависимости
заданного пользователем пакета.
4. Результат выполнения этапа сохранен в репозиторий стандартно
оформленным коммитом
## Этап 3. Основные операции
Цель: построен граф зависимостей (с учетом транзитивности) и выполнены
основные операции над ним.
Требования:
1. Получен граф зависимостей и реализован алгоритмом BFS без рекурсии.
2. Корректно обработаны случаи наличия циклических зависимостей.
3. Поддержан режим тестирования. Вместо URL реального репозитория, дана
возможность пользователю указать путь к файлу описания графа
репозитория, где пакеты называются большими латинскими буквами.
Продемонстрирована функциональность этого этапа на различных случаях
работы с тестовым репозиторием.
4. Результат выполнения этапа сохранен в репозиторий стандартно
оформленным коммитом.

# Описание функций и настроек
## Класс Config
### Основные функции
__init__(self, config_data) - инициализация конфигурации из словаря данных  
load_from_file(cls, file_path) - загрузка конфигурации из JSON файла  
validate(self) - валидация всех параметров конфигурации  
to_dict(self) - возврат конфигурации в виде словаря  

## Класс DependencyParser
### Основные функции:
__init__(self, config) - инициализация парсера с конфигурацией  
get_cargo_toml_from_github(self, repo_url) - скачивание Cargo.toml из GitHub репозитория  
parse_dependencies(self, cargo_toml_content) - парсинг Cargo.toml и извлечение зависимостей  
get_direct_dependencies(self) - получение прямых зависимостей пакета  

## Класс DependencyFetcher
### Основные функции:
__init__(self, config) - инициализация сборщика зависимостей  
get_dependencies(self, package_name) - получение зависимостей для указанного пакета  
get_dependencies_from_github(self, package_name) - скачивание зависимостей из GitHub  
parse_dependencies(self, cargo_toml_content) - парсинг зависимостей из Cargo.toml  

## Класс DependencyGraph
### Основные функции:
__init__(self) - инициализация графа зависимостей  
build_graph_bfs(self, start_package, dependency_fetcher) - построение графа BFS без рекурсии  
detect_cycles(self) - обнаружение циклических зависимостей в графе  

## Класс TestRepository
### Основные функции:
__init__(self, test_file_path) - инициализация тестового репозитория  
load_test_graph(self) - загрузка тестового графа из файла  
get_dependencies(self, package) - получение зависимостей пакета из тестового графа  

## Функции main.py
### Основные функции:
print_config_as_key_value(config) - вывод параметров конфигурации в формате ключ-значение  
print_dependencies(dependencies) - вывод списка зависимостей  
main() - основная функция приложения  

# Примеры использования
## Этап 1
<img width="1843" height="1000" alt="image" src="https://github.com/user-attachments/assets/6d19fa20-74e0-4335-a72e-d00725801ba0" />

## Этап 2
<img width="2154" height="1378" alt="image" src="https://github.com/user-attachments/assets/3c69c40d-c7ea-4f26-9d5b-2fd72c81da6e" />

## Этап 3
<img width="2051" height="1293" alt="image" src="https://github.com/user-attachments/assets/9cb80a6c-d1a2-4211-ac1a-fa2b4164e701" />  
<img width="2078" height="1301" alt="image" src="https://github.com/user-attachments/assets/3eaa21e1-1bd5-43a2-8fbf-0dadde82a0ee" />

